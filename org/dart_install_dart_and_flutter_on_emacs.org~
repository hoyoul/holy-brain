:PROPERTIES:
:ID:       31E225F4-4071-4D4D-8302-021C91903B49
:mtime:    20230826222824
:ctime:    20230826222824
:END:
#+title: [dart] install dart and flutter on emacs
#+AUTHOR: holy
#+EMAIL: hoyoul.park@gmail.com
#+DATE: <2023-08-26 Sat>
#+DESCRIPTION: install dart and flutter.
#+HUGO_DRAFT: true
* dart lsp
** install dart sdk
local system에 dart sdk를 설치한다.
#+BEGIN_SRC text
brew install dart-sdk
#+END_SRC
** emacs 설정
dart-mode를 설정한다. flutter를 위해 hook을 건다.

#+BEGIN_SRC emacs-lisp
  (use-package dart-mode
    :ensure t
    ;; Optional
    :hook (dart-mode . flutter-test-mode))
#+END_SRC

lsp를 사용하기 위해서 다음과 같이 설정한다.

#+BEGIN_SRC emacs-lisp
(setq package-selected-packages 
  '(dart-mode lsp-mode lsp-dart lsp-treemacs flycheck company
    ;; Optional packages
    lsp-ui company hover))

(when (cl-find-if-not #'package-installed-p package-selected-packages)
  (package-refresh-contents)
  (mapc #'package-install package-selected-packages))

(add-hook 'dart-mode-hook 'lsp)

(setq gc-cons-threshold (* 100 1024 1024)
      read-process-output-max (* 1024 1024))
#+END_SRC
** 사용법
emacs에서 확장자가 .dart인 파일을 열면 자동으로 dart lsp가
연결된다. 여기서 M-x lsp-dart-run을 실행하면 다음과 같은 화면을
갖는다.

#+CAPTION: dart1
#+NAME: dart1
#+attr_html: :width 600px
#+attr_latex: :width 100px
[[../static/img/dart/dart1.png]]
* flutter 설치
flutter를 설치하기 위해선, dart-mode가 이미 활성화되었다고
가정한다. 위에서 dart-mode는 이미 활성화되었다. flutter sdk는 이미
local에 설치되어 있어야 한다. flutter 홈페이지에서 sdk를
document/libraries/ 아래 설치했다.


